"use strict";(self["webpackChunkmusicapp"]=self["webpackChunkmusicapp"]||[]).push([[764],{3764:function(s,e,a){a.r(e),a.d(e,{default:function(){return T}});var o=a(6252);function r(s,e,a,r,t,n){const l=(0,o.up)("search-Top");return(0,o.wg)(),(0,o.j4)(l)}var t=a(9963),n=a(3577);const l=s=>((0,o.dD)("data-v-440a1b68"),s=s(),(0,o.Cn)(),s),c={class:"searchTop"},i={class:"searchNav"},d=["placeholder"],u={key:0,class:"history"},y=l((()=>(0,o._)("span",{class:"title"},"历史:",-1))),p=["onClick"],w={key:1,class:"listBody"},h=["onClick"],k={class:"album"},g={class:"listNum"},m={class:"songItem"},v={class:"listName"},f={class:"tags"},_={class:"albumName"},L=l((()=>(0,o._)("div",{class:"con"},[(0,o._)("span",{class:"iconfont icon-bofang"}),(0,o._)("span",{class:"iconfont icon-qita"})],-1)));function W(s,e,a,r,l,W){return(0,o.wg)(),(0,o.iD)("div",c,[(0,o._)("div",i,[(0,o._)("span",{class:"iconfont icon-xitongfanhui",onClick:e[0]||(e[0]=e=>s.$router.go(-1))}),(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=e=>s.searchWord=e),placeholder:s.placeholder,onKeydown:e[2]||(e[2]=(0,t.D2)(((...s)=>r.setKeyWord&&r.setKeyWord(...s)),["enter"]))},null,40,d),[[t.nr,s.searchWord]])]),s.searchWord?((0,o.wg)(),(0,o.iD)("div",w,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.result.data.result.songs,((e,a)=>((0,o.wg)(),(0,o.iD)("div",{class:"list",key:a,onClick:e=>s.setPlayIndex(a)},[(0,o._)("div",k,[(0,o._)("div",g,(0,n.zw)(a+1),1),(0,o._)("div",m,[(0,o._)("span",v,(0,n.zw)(e.name),1),(0,o._)("div",f,[(0,o._)("span",_,(0,n.zw)(e.al.name)+"-"+(0,n.zw)(e.ar[0].name),1)])])]),L],8,h)))),128))])):((0,o.wg)(),(0,o.iD)("div",u,[y,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.keywordList,((s,e)=>((0,o.wg)(),(0,o.iD)("span",{class:"historyItem",key:e,onClick:e=>r.historySearch(s)},(0,n.zw)(s),9,p)))),128))]))])}var D=a(2262),C=a(3813),K=a(3907),S={name:"searchTop",methods:{...(0,K.OI)(["setPlayIndex"])},setup(){let s=(0,K.oR)(),e=(0,D.qj)({searchWord:"",placeholder:"123",keywordList:[],result:{data:{result:{songs:[{name:"",ar:[{name:""}],al:{name:""}}]}}}}),{proxy:a}=(0,o.FN)();(0,o.wF)((()=>{e.keywordList=localStorage.keywordList?JSON.parse(localStorage.keywordList):[]}));let r=async()=>{if(console.log("data:",e),""===e.searchWord.trim())return;e.keywordList.push(e.searchWord),e.keywordList=Array.from(new Set(e.keywordList)),e.keywordList.length>10&&(e.keywordList=e.keywordList.slice(1,11)),localStorage.keywordList=JSON.stringify(e.keywordList);let a=await(0,C.ao)(e.searchWord);console.log("333",a),e.result=a,s.commit("setPlayList",a.data.result.songs),s.dispatch("reqMusic",a.data.result.songs[0])},t=s=>{e.searchWord=s,a.setKeyWord()};return{...(0,D.BK)(e),proxy:a,store:s,setKeyWord:r,historySearch:t}}},b=a(3744);const N=(0,b.Z)(S,[["render",W],["__scopeId","data-v-440a1b68"]]);var x=N,I={name:"searchView",components:{searchTop:x}};const z=(0,b.Z)(I,[["render",r]]);var T=z}}]);
//# sourceMappingURL=764.7a7621ca.js.map