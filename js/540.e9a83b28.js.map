{"version":3,"file":"js/540.e9a83b28.js","mappings":"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","sources":["webpack://musicapp/./src/views/searchView.vue","webpack://musicapp/./src/components/searchTop.vue","webpack://musicapp/./src/components/searchTop.vue?9ca7","webpack://musicapp/./src/views/searchView.vue?0401"],"sourcesContent":["<template>\r\n    <search-Top></search-Top>\r\n</template>\r\n<script>\r\n    import searchTop from '@/components/searchTop.vue';\r\nexport default{\r\n    name:'searchView',\r\n    components:{\r\n        searchTop,\r\n    }\r\n}\r\n</script>\r\n<style>\r\n    \r\n</style>","<template>\r\n    <div class=\"searchTop\">\r\n        <div class=\"searchNav\">\r\n            <input type=\"text\" \r\n                v-model=\"searchWord\" \r\n                :placeholder=\"placeholder\" \r\n                @keydown.enter=\"setKeyWord\"\r\n            >\r\n        </div>\r\n        <div v-if=\"!searchWord\" class=\"history\">\r\n            <span class=\"title\">历史:</span>\r\n            <span class=\"historyItem\" \r\n                v-for=\"(item,i) in keywordList\" \r\n                :key=\"i\" \r\n                @click=\"historySearch(item)\"\r\n            >\r\n                {{item}}\r\n            </span>\r\n        </div>\r\n        <div v-else class=\"listBody\">\r\n            <div class=\"list\" v-for=\"(item,index) in result.data.result.songs\" :key=\"index\">\r\n                <div class=\"album\">\r\n                    <div class=\"listNum\">{{index+1}}</div>\r\n                    <div class=\"songItem\">\r\n                        <span class=\"listName\">{{item.name}}</span>\r\n                        <div class=\"tags\">\r\n                            <span class=\"listTag\">test</span>\r\n                            <span class=\"albumName\">{{item.ar[0].name}}-{{item.al.name}}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"con\">\r\n                    <span class=\"iconfont icon-bofang\" @click=\"setPlayIndex(index)\"></span>\r\n                    <span class=\"iconfont icon-qita\"></span>\r\n                </div>        \r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { getCurrentInstance, onBeforeMount, reactive, toRefs } from 'vue';\r\nimport {searchMusic} from '@/assets/apifuntion.js';\r\nimport { mapMutations,useStore } from 'vuex';\r\nexport default{\r\n    name:'searchTop',\r\n    methods:{\r\n        ...mapMutations(['setPlayIndex'])\r\n    },\r\n    setup(){\r\n        let store=useStore();\r\n        let data=reactive({\r\n            searchWord:'',\r\n            placeholder:'123',\r\n            keywordList:[],\r\n            result:{\r\n                data:{\r\n                    result:{\r\n                        songs:[]\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        let {proxy}=getCurrentInstance();\r\n        onBeforeMount(()=>{\r\n            data.keywordList=localStorage.keywordList?JSON.parse(localStorage.keywordList):[];\r\n        })\r\n        let setKeyWord=async()=>{\r\n            if(data.searchWord.trim()==='')return;\r\n            data.keywordList.push(data.searchWord);\r\n            data.keywordList=Array.from(new Set(data.keywordList));\r\n            if(data.keywordList.length>10)\r\n            data.keywordList=data.keywordList.slice(1,11);\r\n            localStorage.keywordList=JSON.stringify(data.keywordList);\r\n            let result=await searchMusic(data.searchWord);\r\n            console.log('333',result);\r\n            data.result=result;\r\n            store.commit('setPlayList',result.data.result.songs)\r\n            store.dispatch('reqMusic',result.data.result.songs[0])\r\n        }\r\n        let historySearch=(item)=>{\r\n            data.searchWord=item;\r\n            proxy.setKeyWord()\r\n        }\r\n        return{\r\n            ...toRefs(data),\r\n            proxy,store,\r\n            setKeyWord,historySearch\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n    .searchTop{\r\n        width: 100%;\r\n        height: auto;\r\n        padding: 0.5rem 0.4rem;\r\n        .searchNav{\r\n            width: 100%;\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            .iconfont{\r\n                font-size: 0.5rem;\r\n                margin-right: 0.4rem;\r\n            }\r\n            input{\r\n                flex:1;\r\n                height: 0.8rem;\r\n                padding: 0.3rem;\r\n                background-color: #eee;\r\n                border: none;\r\n                border-bottom: 1px solid #000;\r\n                border-radius: 0.4rem;\r\n                font-size: 0.5rem;\r\n                color: #000;\r\n            }\r\n        }\r\n        .history{\r\n            width: 100%;\r\n            height: auto;\r\n            padding: 0.2rem;\r\n            display: flex;\r\n            flex-wrap: wrap;\r\n            .title{\r\n                font-size: 0.3rem;\r\n                font-weight: 900;\r\n                border-radius: 50%;\r\n                margin: 0.3rem 0.4rem 0 0;\r\n            }\r\n            .historyItem{\r\n                font-weight: 500;\r\n                border-radius: 0.3rem;\r\n                background-color: #eee;\r\n                font-size: 0.3rem;\r\n                padding: 0.1rem 0.2rem;\r\n                margin: 0.2rem 0.4rem 0 0;\r\n            }\r\n        }\r\n        .listBody{\r\n            position: fixed;\r\n            bottom: 0;\r\n            width: 100%;\r\n            height: calc(100% - 2rem);\r\n            overflow: scroll;\r\n            background-color: #fff;\r\n            .foot{\r\n                width:100%;\r\n                height: 1rem;\r\n            }\r\n            .list{\r\n                width: 100%;\r\n                height: 0.8rem;\r\n                display: flex;        \r\n                justify-content: space-between;\r\n                align-items: center;\r\n                .album{\r\n                    display: flex;\r\n                    .listNum{\r\n                        width: 0.5rem;\r\n                        margin:0 0.2rem;\r\n                        font-size: 0.3rem;\r\n                        color: #ccc;\r\n                        overflow: hidden;\r\n                        \r\n                    }\r\n                    .songItem{\r\n                        display: flex;\r\n                        flex-direction: column;\r\n                        .listName{\r\n                            font-size: 0.3rem;\r\n                            font-weight: 900;\r\n                            overflow: hidden;\r\n                            text-overflow: ellipsis;\r\n                            display: -webkit-box;\r\n                            -webkit-line-clamp: 1 ;\r\n                            -webkit-box-orient: vertical;\r\n                        }\r\n                        .tags{\r\n                            display: flex;\r\n                            align-items: center;\r\n                            .listTag{\r\n                                font-size: 0.1rem;\r\n                                background-color: orange;\r\n                                line-height: 0.20rem;\r\n                                color: #fff;\r\n                                margin-right: 0.1rem;\r\n                            }\r\n                            .albumName{\r\n                                font-size: 0.2rem;\r\n                                color: #999;\r\n                                overflow: hidden;\r\n                                text-overflow: ellipsis;\r\n                                display: -webkit-box;\r\n                                -webkit-line-clamp: 1 ;\r\n                                -webkit-box-orient: vertical;\r\n                            }\r\n                        }\r\n                    }\r\n                }  \r\n                .con{\r\n                    .iconfont{\r\n                        font-size: 0.5rem;\r\n                    }\r\n                }\r\n                \r\n            }    \r\n        }\r\n    }\r\n</style>","import { render } from \"./searchTop.vue?vue&type=template&id=de716a68&scoped=true\"\nimport script from \"./searchTop.vue?vue&type=script&lang=js\"\nexport * from \"./searchTop.vue?vue&type=script&lang=js\"\n\nimport \"./searchTop.vue?vue&type=style&index=0&id=de716a68&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\_leaf\\\\vue3_project\\\\musicapp\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-de716a68\"]])\n\nexport default __exports__","import { render } from \"./searchView.vue?vue&type=template&id=87ee7b32\"\nimport script from \"./searchView.vue?vue&type=script&lang=js\"\nexport * from \"./searchView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\_leaf\\\\vue3_project\\\\musicapp\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_search_Top","class","_createElementVNode","_createElementBlock","type","_ctx","$event","placeholder","onKeydown","$setup","_Fragment","_renderList","data","result","songs","item","index","key","_toDisplayString","name","_hoisted_13","ar","al","onClick","_hoisted_17","_hoisted_5","i","_hoisted_6","methods","mapMutations","setup","store","useStore","reactive","searchWord","keywordList","proxy","getCurrentInstance","onBeforeMount","localStorage","JSON","parse","setKeyWord","async","trim","push","Array","from","Set","length","slice","stringify","searchMusic","console","log","commit","dispatch","historySearch","toRefs","__exports__","components","searchTop","render"],"sourceRoot":""}