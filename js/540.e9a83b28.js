"use strict";(self["webpackChunkmusicapp"]=self["webpackChunkmusicapp"]||[]).push([[540],{540:function(s,e,a){a.r(e),a.d(e,{default:function(){return O}});var r=a(252);function t(s,e,a,t,o,l){const n=(0,r.up)("search-Top");return(0,r.wg)(),(0,r.j4)(n)}var o=a(963),l=a(577);const n=s=>((0,r.dD)("data-v-de716a68"),s=s(),(0,r.Cn)(),s),c={class:"searchTop"},i={class:"searchNav"},d=["placeholder"],u={key:0,class:"history"},y=n((()=>(0,r._)("span",{class:"title"},"历史:",-1))),p=["onClick"],w={key:1,class:"listBody"},h={class:"album"},k={class:"listNum"},g={class:"songItem"},m={class:"listName"},v={class:"tags"},_=n((()=>(0,r._)("span",{class:"listTag"},"test",-1))),L={class:"albumName"},f={class:"con"},W=["onClick"],D=n((()=>(0,r._)("span",{class:"iconfont icon-qita"},null,-1)));function K(s,e,a,t,n,K){return(0,r.wg)(),(0,r.iD)("div",c,[(0,r._)("div",i,[(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=e=>s.searchWord=e),placeholder:s.placeholder,onKeydown:e[1]||(e[1]=(0,o.D2)(((...s)=>t.setKeyWord&&t.setKeyWord(...s)),["enter"]))},null,40,d),[[o.nr,s.searchWord]])]),s.searchWord?((0,r.wg)(),(0,r.iD)("div",w,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.result.data.result.songs,((e,a)=>((0,r.wg)(),(0,r.iD)("div",{class:"list",key:a},[(0,r._)("div",h,[(0,r._)("div",k,(0,l.zw)(a+1),1),(0,r._)("div",g,[(0,r._)("span",m,(0,l.zw)(e.name),1),(0,r._)("div",v,[_,(0,r._)("span",L,(0,l.zw)(e.ar[0].name)+"-"+(0,l.zw)(e.al.name),1)])])]),(0,r._)("div",f,[(0,r._)("span",{class:"iconfont icon-bofang",onClick:e=>s.setPlayIndex(a)},null,8,W),D])])))),128))])):((0,r.wg)(),(0,r.iD)("div",u,[y,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.keywordList,((s,e)=>((0,r.wg)(),(0,r.iD)("span",{class:"historyItem",key:e,onClick:e=>t.historySearch(s)},(0,l.zw)(s),9,p)))),128))]))])}var S=a(262),C=a(813),N=a(907),I={name:"searchTop",methods:{...(0,N.OI)(["setPlayIndex"])},setup(){let s=(0,N.oR)(),e=(0,S.qj)({searchWord:"",placeholder:"123",keywordList:[],result:{data:{result:{songs:[]}}}}),{proxy:a}=(0,r.FN)();(0,r.wF)((()=>{e.keywordList=localStorage.keywordList?JSON.parse(localStorage.keywordList):[]}));let t=async()=>{if(""===e.searchWord.trim())return;e.keywordList.push(e.searchWord),e.keywordList=Array.from(new Set(e.keywordList)),e.keywordList.length>10&&(e.keywordList=e.keywordList.slice(1,11)),localStorage.keywordList=JSON.stringify(e.keywordList);let a=await(0,C.ao)(e.searchWord);console.log("333",a),e.result=a,s.commit("setPlayList",a.data.result.songs),s.dispatch("reqMusic",a.data.result.songs[0])},o=s=>{e.searchWord=s,a.setKeyWord()};return{...(0,S.BK)(e),proxy:a,store:s,setKeyWord:t,historySearch:o}}},b=a(744);const x=(0,b.Z)(I,[["render",K],["__scopeId","data-v-de716a68"]]);var z=x,T={name:"searchView",components:{searchTop:z}};const q=(0,b.Z)(T,[["render",t]]);var O=q}}]);
//# sourceMappingURL=540.e9a83b28.js.map